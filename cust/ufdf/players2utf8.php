<?php

function request_to_utf8 ($txt)  {
    $in_arr = array (
        "%u0410", "%u0411", "%u0412", "%u0413",
        "%u0414", "%u0415", "%u0401", "%u0416",
        "%u0417", "%u0418", "%u0419", "%u041A",
        "%u041B", "%u041C", "%u041D", "%u041E",
        "%u041F", "%u0420", "%u0421", "%u0422",
        "%u0423", "%u0424", "%u0425", "%u0426",
        "%u0427", "%u0428", "%u0429", "%u042A",
        "%u042B", "%u042C", "%u042D", "%u042E",
        "%u042F",
        "%u0430", "%u0431", "%u0432", "%u0433",
        "%u0434", "%u0435", "%u0451", "%u0436",
        "%u0437", "%u0438", "%u0439", "%u043A",
        "%u043B", "%u043C", "%u043D", "%u043E",
        "%u043F", "%u0440", "%u0441", "%u0442",
        "%u0443", "%u0444", "%u0445", "%u0446",
        "%u0447", "%u0448", "%u0449", "%u044A",
        "%u044B", "%u044C", "%u044D", "%u044E",
        "%u044F",
        "%u0456", "%u0406", "%u0454", "%u0404",
        "%u0457", "%u0407", "%u0491", "%u0490"
    ); 
 
    $out_arr = array (
        chr(208).chr(144), chr(208).chr(145), chr(208).chr(146),
        chr(208).chr(147), chr(208).chr(148), chr(208).chr(149),
        chr(208).chr(129), chr(208).chr(150), chr(208).chr(151),
        chr(208).chr(152), chr(208).chr(153), chr(208).chr(154),
        chr(208).chr(155), chr(208).chr(156), chr(208).chr(157),
        chr(208).chr(158), chr(208).chr(159), chr(208).chr(160), 
        chr(208).chr(161), chr(208).chr(162), chr(208).chr(163),
        chr(208).chr(164), chr(208).chr(165), chr(208).chr(166),
        chr(208).chr(167), chr(208).chr(168), chr(208).chr(169),
        chr(208).chr(170), chr(208).chr(171), chr(208).chr(172),
        chr(208).chr(173), chr(208).chr(174), chr(208).chr(175),

        chr(208).chr(176), chr(208).chr(177), chr(208).chr(178),
        chr(208).chr(179), chr(208).chr(180), chr(208).chr(181),
        chr(209).chr(145), chr(208).chr(182), chr(208).chr(183),
        chr(208).chr(184), chr(208).chr(185), chr(208).chr(186),
        chr(208).chr(187), chr(208).chr(188), chr(208).chr(189),
        chr(208).chr(190), chr(208).chr(191), chr(209).chr(128),
        chr(209).chr(129), chr(209).chr(130), chr(209).chr(131),
        chr(209).chr(132), chr(209).chr(133), chr(209).chr(134),
        chr(209).chr(135), chr(209).chr(136), chr(209).chr(137),
        chr(209).chr(138), chr(209).chr(139), chr(209).chr(140),
        chr(209).chr(141), chr(209).chr(142), chr(209).chr(143),

        chr(209).chr(150), chr(208).chr(134), chr(209).chr(148), chr(208).chr(132),
        chr(209).chr(151), chr(208).chr(135), chr(210).chr(145), chr(210).chr(144)
    );   

 
    $txt = str_replace($in_arr,$out_arr,$txt);
    return $txt;
}
?>